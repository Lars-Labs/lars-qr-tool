<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Lars QR Tool</title>
  <link rel="stylesheet" href="style.css">
  <script src="theme.js"></script>
</head>
<body>

<header>
  <div id="larsButton">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 600 200">
      <style>
        @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@500&display=swap');
        .lars-text { font-family: 'Montserrat', sans-serif; font-weight: 500; font-size: 140px; fill: var(--accent-color); }
      </style>
      <text x="50" y="145" class="lars-text">Lars</text>
    </svg>
  </div>
  <div id="actualSettingsBtn">âš™ï¸</div>
</header>

<div class="container homepage-container">
  <h1 data-t="appTitle">Lars QR Tool</h1>
  <p class="tagline">Fully offline â€¢ Private â€¢ Fast</p>

  <div class="feature-grid">
    <a href="generator.html" class="feature-card">
      <div class="feature-icon">ğŸ”³</div>
      <h2 data-t="create">Create</h2>
      <p>Generate custom QR codes instantly</p>
    </a>

    <a href="scanner.html" class="feature-card">
      <div class="feature-icon">ğŸ“·</div>
      <h2 data-t="scan">Scan</h2>
      <p>Fast and accurate QR scanning</p>
    </a>

    <a href="history.html" class="feature-card">
      <div class="feature-icon">ğŸ“œ</div>
      <h2 data-t="historyNav">History</h2>
      <p>View and copy your past scans</p>
    </a>
  </div>

  <footer class="homepage-footer">
    Version 1.0 â€¢ January 2026<br>
    Made with passion ğŸš€
  </footer>
</div>

<div id="larsMenu" style="left: 16px; right: auto;">
  <button onclick="openFeedback()">ğŸ“ Send Feedback</button>
  <button onclick="openAbout()">â„¹ï¸ About</button>
  <button onclick="openDonate()">â˜• Support on Buy Me a Coffee</button>
</div>

<div id="actualSettingsPanel">
  <h3 data-t="settings">Settings</h3>
  <label data-t="theme">Theme</label>
  <select id="themeSelect">
    <option value="dark">Dark</option>
    <option value="darkgrey">Dark Grey</option>
    <option value="grey">Grey</option>
    <option value="light">Light</option>
  </select>
  <label data-t="language">Language</label>
  <select id="langSelect">
    <option value="en">English</option>
    <option value="es">EspaÃ±ol</option>
    <option value="fr">FranÃ§ais</option>
    <option value="de">Deutsch</option>
    <option value="zh">ä¸­æ–‡</option>
  </select>
  <label>QR Code Color</label>
  <input type="color" id="qrColorPicker" value="#238636">
  <label>Vibration feedback</label>
  <input type="checkbox" id="vibrateToggle" checked>
  <label>Beep sound</label>
  <input type="checkbox" id="beepToggle" checked>
  <label>Continuous scanning</label>
  <input type="checkbox" id="continuousToggle">
  <hr style="border:none; border-top:1px solid var(--border-color); margin:20px 0;">
  <small style="color:var(--placeholder-color);">Lars QR Tool â€¢ January 2026<br>Fully offline â€¢ Private</small>
  <button class="secondary" onclick="document.getElementById('actualSettingsPanel').style.display='none'">Close</button>
</div>

<div id="feedbackOverlay">
  <div class="card">
    <h3>Send Feedback</h3>
    <p style="margin:16px 0;">Love the app? Found a bug? Have an idea?<br>Let me know!</p>
    <textarea id="feedbackText" placeholder="Your message..."></textarea>
    <button onclick="sendFeedback()">Send Email</button>
    <button class="secondary" onclick="closeFeedback()">Cancel</button>
  </div>
</div>

<script>
document.addEventListener("DOMContentLoaded", () => {
  const colorPicker = document.getElementById("qrColorPicker");
  if (colorPicker) {
    colorPicker.value = localStorage.getItem("qrColor") || "#238636";
    colorPicker.addEventListener("change", e => localStorage.setItem("qrColor", e.target.value));
  }

  const larsBtn = document.getElementById("larsButton");
  const settingsBtn = document.getElementById("actualSettingsBtn");
  const larsMenu = document.getElementById("larsMenu");
  const settingsPanel = document.getElementById("actualSettingsPanel");

  if (larsBtn) larsBtn.onclick = e => { e.stopPropagation(); larsMenu.style.display = larsMenu.style.display === "block" ? "none" : "block"; settingsPanel.style.display = "none"; };
  if (settingsBtn) settingsBtn.onclick = e => { e.stopPropagation(); settingsPanel.style.display = settingsPanel.style.display === "block" ? "none" : "block"; larsMenu.style.display = "none"; };

  document.addEventListener("click", e => {
    if (larsMenu && !larsMenu.contains(e.target) && !larsBtn.contains(e.target)) larsMenu.style.display = "none";
    if (settingsPanel && !settingsPanel.contains(e.target) && !settingsBtn.contains(e.target)) settingsPanel.style.display = "none";
  });

  window.openFeedback = () => { larsMenu.style.display = "none"; document.getElementById("feedbackOverlay").style.display = "flex"; };
  window.closeFeedback = () => { document.getElementById("feedbackOverlay").style.display = "none"; document.getElementById("feedbackText").value = ""; };
  window.sendFeedback = () => {
    const msg = document.getElementById("feedbackText").value.trim();
    if (!msg) return alert("Please write a message!");
    window.location.href = `mailto:larslabs@atomicmail.io?subject=Lars%20QR%20Tool%20Feedback&body=${encodeURIComponent(msg)}`;
    closeFeedback();
  };
  window.openAbout = () => { larsMenu.style.display = "none"; alert("Lars QR Tool\n\nVersion 1.0 â€¢ January 2026\nFully offline â€¢ Private â€¢ Fast\nMade with passion ğŸš€"); };
  window.openDonate = () => { larsMenu.style.display = "none"; window.open("https://buymeacoffee.com/larslabs", "_blank"); };

  document.getElementById("themeSelect")?.addEventListener("change", e => saveTheme(e.target.value));
  document.getElementById("langSelect")?.addEventListener("change", e => saveLang(e.target.value));
  document.getElementById("vibrateToggle")?.addEventListener("change", e => saveOption("vibrate", e.target.checked));
  document.getElementById("beepToggle")?.addEventListener("change", e => saveOption("beep", e.target.checked));
  document.getElementById("continuousToggle")?.addEventListener("change", e => saveOption("continuous", e.target.checked));
});
</script>
</body>
</html>
